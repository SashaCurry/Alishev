CREATE TABLE Person(
    person_id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name varchar(50) NOT NULL UNIQUE,
    year_birth int NOT NULL CHECK (year_birth > 1925)
);

CREATE TABLE Book(
    book_id       int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name          varchar(100) NOT NULL,
    author        varchar(50)  NOT NULL,
    year_released int CHECK (year_released < 2025),
    person_id     int          REFERENCES Person (person_id) ON DELETE SET NULL
);

INSERT INTO Person (name, year_birth) VALUES ('Иванов Иван Иванович', 1970);
INSERT INTO Person (name, year_birth) VALUES ('Петров Пётр Петрович', 1960);
INSERT INTO Person (name, year_birth) VALUES ('Алексеев Алексей Алексеевич', 1989);
INSERT INTO Person (name, year_birth) VALUES ('Познер Владимир Владимирович', 1944);
INSERT INTO Person (name, year_birth) VALUES ('Фёдоров Мирон Янович', 1985);

INSERT INTO Book(name, author, year_released) VALUES ('Над пропастью во ржи', 'Джером Сэлинджер', 1951);
INSERT INTO Book(name, author, year_released) VALUES ('День опричника', 'Владимир Сорокин', 2006);
INSERT INTO Book(name, author, year_released) VALUES ('Тайные виды на гору Фудзи', 'Владимир Пелевин', 2018);
INSERT INTO Book(name, author, year_released) VALUES ('Философия Java', 'Брюс Эккель', 2018);
INSERT INTO Book(name, author, year_released) VALUES ('Психопатология обыденной жизни', 'Фрейд Зигмунд', 1904);
INSERT INTO Book(name, author, year_released) VALUES ('Игра в бисер', 'Герман Гессе', 1943);
INSERT INTO Book(name, author, year_released) VALUES ('Бытие и время', 'Мартин Хайдаггер', 1927);
